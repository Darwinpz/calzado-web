<div class="container">

    <div class="card">

        <div class="card-header">
            
            {{#if (tipo_usuario user.tipo) }}

            <a href="/administrar/productos/{{producto._id}}" class="btn btn-primary float-end">Editar Producto</a>

            {{/if}}
            <h4><b>{{producto.nombre}}</b></h4>
            
        </div>

        <div class="card-body">

            <div class="row align-items-center">

                <div class="col col-sm-12 col-md-12 col-lg-6 mb-2 col-12">

                    <div class="card border border-secondary" style="background-color: transparent;">

                        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                {{#each producto.foto}}
                                <div class="carousel-item">
                                    <img src="/img/products/{{this}}" style="height: 400px; max-height: 400px;"
                                        class="d-block w-100 " alt="...">
                                </div>
                                {{/each}}
                                <script>
                                    var element = document.getElementsByClassName("carousel-item");
                                    element[0].className = " carousel-item active"
                                </script>
                            </div>
                            <button class="carousel-control-prev" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>

                    </div>

                </div>

                <div class="col col-sm-12 col-md-12 col-lg-6 col-12">

                    <div class="card border border-primary">

                        <div class="card-body">

                            <h2 style="color: green;" class="mb-3">$</h2>

                            <h5 class="mb-3">Stock: {{stock}}<span style="color: royalblue;"></span></h5>

                            <span><i class="fas fa-eye mb-3"></i> {{producto.views}}</span>
                            <span><i class="fas fa-heart mb-3" style="color: red;"></i> {{producto.likes}}</span>

                            <div class="row mb-3">

                                <div class="col">
                                    <h5>Tallas: </h5>
                                    <select class="form-select" id="tallas" required>
                                        {{#each producto.items}}
                                        <option value="{{talla}}">{{talla}}</option>
                                        {{/each}}
                                    </select>
                                </div>

                                <div class="col">
                                    <h5>Colores: </h5>
                                    <select class="form-select" id="colores" required>
                                        {{#each producto.items}}
                                        <option value="{{color}}">{{color}}</option>
                                        {{/each}}
                                    </select>
                                </div>

                            </div>

                            <h5>Descripción: </h5>

                            <textarea type="text" class="form-control fs-6 mb-3" name="descripcion" readonly
                                style="height: 100px;">{{producto.descripcion}}</textarea>

                            <h5>Categorias: </h5>

                            <div class="card border border-0">

                                <div class="row">

                                    {{#each producto.categorias}}
                                    <div class="col col-lg-3 col-md-3 col-3 text-center mb-2">

                                        <div class="card">

                                            <span class="btn btn-outline-primary"
                                                style="font-size: small;"><strong>{{this}}</strong></span>

                                        </div>

                                    </div>

                                    {{/each}}

                                </div>

                            </div>

                        </div>

                        <div class="card-footer">

                            <form action="/addcarrito" method="POST" class="row g-3">

                                <div class="container d-flex align-items-center">

                                    <div class="col-md-3 mx-2">

                                        <input type="number" name="car_cantidad" class="form-control" value="1" required
                                            min="1">
                                        <input style="display: none;" type="number" name="car_producto"
                                            class="form-control" value="" required>
                                    </div>

                                    <button class="btn btn-primary" href="" role="button"><i class="fas fa-cart-plus">
                                            Añadir al Carrito</i></button>

                                </div>

                            </form>

                        </div>

                    </div>


                </div>

            </div>

        </div>

    </div>
</div>

<script src="/js/producto.js"></script>